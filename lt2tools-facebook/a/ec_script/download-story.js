function a7_0x7737(t,n){var e=a7_0x350d();return(a7_0x7737=function(t,n){return e[t-=299]})(t,n)}function a7_0x350d(){var t=["Photo","createElement","get","facebook.com/stories","254SNXdWL","error","https://www.facebook.com/stories","div","fb_dtsg","30034896aSaLVR","concat","search","trace","edges","16EdTxhB","9KOOXfC","href","6848039NtlLlt","fb_api_caller_class=RelayModern&fb_dtsg=","closest","log","https://www.facebook.com/api/graphql/","toString","body","nodes","responseType","remove","10jtslnZ","local","info","6209760nHdAZi","addEventListener","676236dYTlfD","uri","style","blob","none","status","map","send","split","1149070BQhbZa","return (function() ","attachments","Đang tải file, vui lòng đợi...","initBtnAndFc","928170uXtlSd","prototype","exception","playable_url","data","substring","__typename","onerror","length","Để sử dụng chức năng tải. Vui lòng chọn vào xem 1 story cụ thể","div[data-id]","click","Story không còn tồn tại","textContent","indexOf","image",'","scale":1,"prefetchPhotoUri":true}&doc_id=2913003758722672',"display","then","position: fixed; bottom: 75px; right: 10px;  color: white; padding: 6px 9px; background-color: rgb(74 74 74); border-radius: 10px; font-weight: bold; opacity: 0.7;cursor: pointer;","constructor","appendChild","statusText","append","response","createObjectURL","application/x-www-form-urlencoded; charset=UTF-8","2767fXEhge","node","Tải story","console","(((.+)+)+)+$",'&fb_api_req_friendly_name=StoriesViewerBucketPrefetcherMultiBucketsQuery&variables={"bucketIDs":"',"URL","bind","download","GET","21vPSlGx","follow","__proto__","media","catch","text","Video","div.k19f6yf2","onload",".k4urcfbm.datstx6m[data-id]"];return(a7_0x350d=function(){return t})()}(function(t,n){for(var e=a7_0x7737,r=a7_0x350d();;)try{if(480982===-parseInt(e(351))/1*(parseInt(e(375))/2)+parseInt(e(324))/3+-parseInt(e(385))/4*(parseInt(e(319))/5)+-parseInt(e(310))/6*(-parseInt(e(361))/7)+parseInt(e(308))/8*(-parseInt(e(386))/9)+-parseInt(e(305))/10*(parseInt(e(388))/11)+parseInt(e(380))/12)break;r.push(r.shift())}catch(t){r.push(r.shift())}})(),function(){var t,n=a7_0x7737,e=(t=!0,function(n,e){var r=t?function(){if(e){var t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}),r=e(this,(function(){var t=a7_0x7737;return r[t(300)]()[t(382)](t(355)).toString()[t(344)](r)[t(382)](t(355))}));r();var a,o=(a=!0,function(t,n){var e=a?function(){if(n){var e=n.apply(t,arguments);return n=null,e}}:function(){};return a=!1,e});if(o(this,(function(){var t,n=a7_0x7737;try{t=Function(n(320)+'{}.constructor("return this")( ));')()}catch(n){t=window}for(var e=t[n(354)]=t[n(354)]||{},r=[n(391),"warn",n(307),n(376),n(326),"table",n(383)],a=0;a<r[n(332)];a++){var i=o[n(344)][n(325)][n(358)](o),s=r[a],c=e[s]||i;i[n(363)]=o.bind(o),i.toString=c[n(300)][n(358)](c),e[s]=i}}))(),$(n(370))){var i=function(t){return new Promise((function(n,e){var r=a7_0x7737;s[r(337)]=r(322);var a=t[r(329)](t.lastIndexOf("/")+1)[r(318)]("?")[0],o=new XMLHttpRequest;o[r(303)]=r(313),o[r(369)]=function(){var t=r,i=document[t(372)]("a");i[t(387)]=window[t(357)][t(349)](o[t(348)]),i[t(359)]=a,i[t(312)][t(341)]=t(314),document.body.appendChild(i),i[t(335)](),i[t(304)](),this[t(315)]>=200&&this.status<300?n(o[t(348)]):e({status:this.status,statusText:o[t(346)]})},o[r(331)]=function(){var t=r;e({status:this.status,statusText:o[t(346)]})},o.open(r(360),t),o[r(317)]()}))},s=document[n(372)](n(378));s.id="action_download_story",s[n(337)]=n(353),s[n(312)].cssText=n(343),document[n(301)][n(345)](s);var c=null;chrome.storage[n(306)][n(373)]([n(379)],(function(t){c=t[n(379)]})),s[n(309)]("click",(function(){var t=n;if(-1!==window.location.href[t(338)](t(374))){var e=$(t(370))[t(328)]("id")||null;if(e){var r=$(t(368))[t(390)](t(334));if(r){var a=r.data("id"),o=new Headers;o[t(347)]("content-type",t(350));var u=t(389)[t(381)](c,t(356))[t(381)](a,t(340));fetch(t(299),{method:"POST",headers:o,body:u,redirect:t(362)})[t(342)]((function(n){return n[t(366)]()})).then((function(n){var r=t;JSON.parse(n)[r(328)][r(302)][0].unified_stories[r(384)][r(316)]((function(t){var n=r;if(t[n(352)].id==e){var a=t;return a[n(352)][n(321)]&&a[n(352)][n(321)][n(316)]((function(t){var e=n;t.media?e(371)==t.media[e(330)]?i(t.media[e(339)][e(311)])[e(342)]((function(){var t=e;s[t(337)]=t(353)})):e(367)==t[e(364)][e(330)]?t[e(364)].playable_url_quality_hd?i(t[e(364)].playable_url_quality_hd).then((function(){var t=e;s[t(337)]=t(353)})):t.media[e(327)]&&i(t[e(364)][e(327)]).then((function(){var t=e;s.textContent=t(353)})):alert(e(336)):alert(e(336))})),0}}))}))[t(365)]((function(t){}))}else alert("Không tìm thấy bucketIDs story")}else alert("Không tìm thấy story, Vui lòng chọn vào story muốn tải về")}else window.location[t(387)]=t(377),setTimeout(t(323),2e3)})),init_initBtnAndFc=s}else alert(n(333))}();
